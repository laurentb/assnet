<%inherit file="layout.html"/>
<%namespace name="partials" file="partials.html"/>

<article>
<table summary="Directory listing" class="list">
<thead>
    <tr>
        <th class="filename">Name</th>
        <th class="lastmod">Last modified</th>
        <th class="size">Size</th>
    </tr>
</thead>
<tbody>
    % if path != '/':
    <tr class="parent">
        <td class="filename"><a href="../">Parent directory</a></td>
    </tr>
    % endif
    % for dir in dirs:
    <tr class="dir">
        <td class="filename"><a href="${dir.get_name()}/">${dir.get_name() | h}</a>/</td>
        <td class="lastmod" colspan="2">
            <time datetime="${dir.get_mtime().strftime('%Y-%m-%dT%H:%M') | h}">${dir.get_mtime().strftime('%Y-%m-%d %H:%M:%S') | h}</time>
        </td>
    </tr>
    % endfor
    % for file in files:
    <tr class="file">
        <td class="filename"><a href="${file.get_name()}">${file.get_name() | h}</a></td>
        <td class="lastmod">
            <time datetime="${file.get_mtime().strftime('%Y-%m-%dT%H:%M') | h}">${file.get_mtime().strftime('%Y-%m-%d %H:%M:%S') | h}</time>
        </td>
        <td class="size">${file.get_human_size() | h}</td>
    </tr>
    % endfor
</tbody>
</table>
</article>

<%def name="title()">Index of ${path | h}</%def>

<%def name="header()">
    ${parent.header()}
    ${partials.toolbox()}
</%def>
